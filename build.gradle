apply plugin: "groovy"

task markLogicInit(type: MarkLogicInitTask)

task markLogicTeardown(type: MarkLogicTeardownTask)

task markLogicManage(type: MarkLogicManageTask) 

task markLogicExtendREST(type: MarkLogicRESTTask) 

task props(type: Copy) {
    from('.') {
        include 'gradle.properties'
    }
    into 'app/src/main/resources'
}

test.dependsOn(props, markLogicExtendREST) 
assemble.dependsOn(markLogicInit, markLogicManage, test)

//TODO rework to stackoverflow data
task loadGithub(type: GithubSlurpTask) {
   //file = "src/test/resources/github/githubSample.json"
   // file = "/tmp/temp8026336001481176720"
   file = "/tmp/temp2418963333306216496"
}

task loadGithubFromArchive(type: GithubSlurpTask) {
   url = "http://data.githubarchive.org/2012-04-11-15.json.gz"
}

task run(dependsOn: ':app:bootRun') << {
  println "running the angular app"
}


/* task to generate the gradle wrapper script */
task wrapper(type: Wrapper) {
    gradleVersion = '1.11'
}

repositories {
    mavenCentral()
}

dependencies {
    compile "org.codehaus.groovy:groovy-all:2.2.2"
}
